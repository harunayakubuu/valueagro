{% load static %}

{% if request.user.is_authenticated %} 
<div class="navbar-custom topnav-navbar">
    <div class="container-fluid detached-nav">

        <div class="logo-topbar">

            <a href="{% url 'accounts:dashboard' %}" class="logo-light">
                <span class="logo-lg">
                    <img src="{% static 'frontend/img/val-logo-2.png' %}" alt="logo" height="22">
                </span>
                <span class="logo-sm">
                    <img src="{% static 'frontend/img/val-logo-2.png' %}" alt="small logo" height="22">
                </span>
            </a>

            <a href="{% url 'accounts:dashboard' %}" class="logo-dark">
                <span class="logo-lg">
                    <img src="{% static 'frontend/img/val-logo.png' %}" alt="dark logo" height="22">
                </span>
                <span class="logo-sm">
                    <img src="{% static 'frontend/img/val-logo.png' %}" alt="small logo" height="22">
                </span>
            </a>
        </div>

        <button class="button-toggle-menu">
            <i class="mdi mdi-menu"></i>
        </button>

        <button class="navbar-toggle" data-bs-toggle="collapse" data-bs-target="#topnav-menu-content">
            <div class="lines">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </button>

        <ul class="list-unstyled topbar-menu float-end mb-0">
            <!--<li class="dropdown notification-list d-lg-none">
                <a class="nav-link dropdown-toggle arrow-none" data-bs-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
                    <i class="ri-search-line noti-icon"></i>
                </a>
                <div class="dropdown-menu dropdown-menu-animated dropdown-lg p-0">
                    <form class="p-3">
                        <input type="search" class="form-control" placeholder="Search ..." aria-label="Recipient's username">
                    </form>
                </div>
            </li>-->

            <li class="notification-list">
                <a href="{% url 'pages:index' %}" class="nav-link">
                    <i class="noti-icon"></i>
                    Website
                </a>
            </li>                    

            <li class="notification-list d-none d-sm-inline-block">
                <a class="nav-link" href="javascript:void(0)" id="light-dark-mode">
                    <i class="ri-moon-line noti-icon"></i>
                </a>
            </li>

            <li class="notification-list d-none d-md-inline-block">
                <a class="nav-link" href="#" data-toggle="fullscreen">
                    <i class="ri-fullscreen-line noti-icon"></i>
                </a>
            </li>

            <li class="dropdown notification-list">
                <a class="nav-link dropdown-toggle nav-user arrow-none me-0" data-bs-toggle="dropdown" href="#" role="button" aria-haspopup="false"
                    aria-expanded="false">
                    <span class="account-user-avatar">
                        <img src="{% if request.user.profile.profile_picture %}{{ request.user.profile.profile_picture.url }}{% else %}{% static 'backend/assets/images/users/no-picture.png' %}{% endif %}" alt="user-image" class="rounded-circle">
                    </span>
                    <span>
                        <span class="account-user-name">
                            {% if request.user.get_full_name %}
                                {{ request.user.get_full_name }}
                            {% else %}
                                {{ request.user.username | upper }}
                            {% endif %}
                        </span>
                        <span class="account-position">
                            {% if request.user.role == 'CHAIRMAN' %}
                                Chairman
                            {% elif request.user.role == 'MD' %}
                                MD
                            {% elif request.user.role == 'CUSTOMER' %}
                                Customer
                            {% elif request.user.role == 'AGENT' %}
                                Field Agent
                            {% elif request.user.role == 'DAHR' %}
                                Director Admin &amp; HR
                            {% elif request.user.role == 'DT' %}
                                Director Technical
                            {% elif request.user.role == 'DMP' %}
                                Director Marketing &amp; Procurement
                            {% elif request.user.role == 'DF' %}
                                Director Finance
                            {% else %}
                            {% endif %}
                        </span>
                    </span>
                </a>
                <div class="dropdown-menu dropdown-menu-end dropdown-menu-animated topbar-dropdown-menu profile-dropdown">
                    <div class=" dropdown-header noti-title">
                        <h6 class="text-overflow m-0">Welcome {{ request.user.username | upper }}!</h6>
                    </div>

                    <a href="{% url 'accounts:profile' %}" class="dropdown-item notify-item">
                        <i class="mdi mdi-account-circle me-1"></i>
                        <span>My Profile</span>
                    </a>

                    <a href="{% url 'password_change' %}" class="dropdown-item notify-item">
                        <i class="mdi mdi-account-edit me-1"></i>
                        <span>Manage Password</span>
                    </a>

                    <a href="{% url 'logout' %}" class="dropdown-item notify-item">
                        <i class="mdi mdi-logout me-1"></i>
                        <span>Logout</span>
                    </a>
                </div>
            </li>
        </ul>

    </div>
</div>
{% endif %}